<!--pages/login/login.wxml-->
<view class="container">
  <view class="card">
    <view class="title">登录</view>
    <view class="subtitle">使用手机号+身份证后6位登录</view>

    <view class="input-group">
      <text class="input-label">手机号</text>
      <input 
        class="input" 
        type="number" 
        placeholder="请输入手机号"
        value="{{phone}}"
        bindinput="onInputPhone"
        maxlength="11"
      />
    </view>

    <view class="input-group">
      <text class="input-label">身份证后6位</text>
      <input 
        class="input" 
        type="text" 
        placeholder="请输入身份证后6位"
        value="{{idCardLast6}}"
        bindinput="onInputIdCard"
        maxlength="6"
      />
    </view>

    <view class="error-text" wx:if="{{error}}">{{error}}</view>

    <button 
      class="btn-primary" 
      bindtap="handleLogin"
      loading="{{loading}}"
      disabled="{{loading}}"
    >
      {{loading ? '登录中...' : '登录'}}
    </button>

    <view class="link-text" bindtap="goToRegister">
      还没有账号？立即注册
    </view>
  </view>
</view>
