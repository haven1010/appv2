<!--pages/login/login.wxml-->
<view class="container login-container">
  <!-- 头部Logo区 -->
  <view class="header-section">
    <view class="logo-circle">🌱</view>
    <view class="app-name">采摘智工</view>
  </view>

  <view class="login-card">
    <view class="title">欢迎回来</view>
    <view class="subtitle">请登录您的账户</view>

    <!-- 手机号输入 -->
    <view class="form-item">
      <view class="input-wrapper">
        <text class="input-icon">📱</text>
        <input 
          class="input-field" 
          type="number" 
          placeholder="请输入手机号"
          placeholder-class="placeholder"
          value="{{phone}}"
          bindinput="onInputPhone"
          maxlength="11"
        />
      </view>
    </view>

    <!-- 身份证输入 -->
    <view class="form-item">
      <view class="input-wrapper">
        <text class="input-icon">🆔</text>
        <input 
          class="input-field" 
          type="idcard" 
          password="{{false}}"
          placeholder="身份证后6位"
          placeholder-class="placeholder"
          value="{{idCardLast6}}"
          bindinput="onInputIdCard"
          maxlength="6"
        />
      </view>
    </view>

    <!-- 错误提示 -->
    <view class="error-msg" wx:if="{{error}}">
      <text>{{error}}</text>
    </view>

    <!-- 登录按钮 -->
    <button 
      class="login-btn" 
      hover-class="login-btn-hover"
      bindtap="handleLogin"
      loading="{{loading}}"
      disabled="{{loading}}"
    >
      {{loading ? '登录中...' : '立即登录'}}
    </button>

    <!-- 底部链接 -->
    <view class="footer-links">
      <text class="register-text">还没有账号？</text>
      <text class="register-link" bindtap="goToRegister">立即注册</text>
    </view>
  </view>
</view>
