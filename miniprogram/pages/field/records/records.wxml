<!--pages/field/records/records.wxml-->
<view class="page">
  <!-- å¤´éƒ¨ -->
  <view class="records-header">
    <text class="records-title">è€ƒå‹¤è®°å½•</text>
    <text class="records-base" wx:if="{{baseName}}">{{baseName}}</text>
  </view>

  <!-- æ—¥æœŸåˆ‡æ¢å™¨ -->
  <view class="date-switcher">
    <view class="date-btn" bindtap="prevDay">â€¹</view>
    <picker mode="date" value="{{selectedDate}}" end="{{selectedDate}}" bindchange="onDateChange">
      <view class="date-display">
        <text class="date-label">{{dateLabel}}</text>
        <text class="date-value">{{selectedDate}}</text>
      </view>
    </picker>
    <view class="date-btn" bindtap="nextDay">â€º</view>
  </view>

  <!-- ç»Ÿè®¡æ¡ -->
  <view class="count-bar">
    <text class="count-text">å…± <text class="count-num">{{totalCount}}</text> æ¡ç­¾åˆ°è®°å½•</text>
  </view>

  <!-- åŠ è½½ä¸­ -->
  <view class="loading-box" wx:if="{{loading}}">
    <text>åŠ è½½ä¸­...</text>
  </view>

  <!-- è®°å½•åˆ—è¡¨ -->
  <view class="record-list" wx:elif="{{records.length > 0}}">
    <view class="record-item" wx:for="{{records}}" wx:key="id">
      <view class="record-left">
        <view class="record-avatar">{{item.displayAvatar}}</view>
        <view class="record-idx">{{index + 1}}</view>
      </view>
      <view class="record-center">
        <text class="record-name">{{item.displayName}}</text>
        <text class="record-detail" wx:if="{{item.user && item.user.uid}}">UID: {{item.user.uid}}</text>
        <text class="record-detail" wx:if="{{item.job && item.job.title}}">å²—ä½: {{item.job.title}}</text>
      </view>
      <view class="record-right">
        <text class="record-time">{{item.displayTime}}</text>
        <text class="record-status checked">å·²ç­¾åˆ°</text>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty-box" wx:elif="{{!loading}}">
    <text class="empty-icon">ğŸ“‹</text>
    <text class="empty-text">{{dateLabel}}æš‚æ— ç­¾åˆ°è®°å½•</text>
  </view>
</view>
