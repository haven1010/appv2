<view class="container">
  <view class="header">
    <text class="title">{{baseName ? baseName + ' - æ‹›è˜å²—ä½' : 'å…¨éƒ¨æ‹›è˜å²—ä½'}}</text>
    <text class="subtitle">å…± {{jobs.length}} ä¸ªå²—ä½</text>
  </view>

  <view wx:if="{{loading}}" class="loading">
    <view class="loading-spinner"></view>
    <text class="loading-text">åŠ è½½ä¸­...</text>
  </view>

  <view wx:elif="{{jobs.length === 0}}" class="empty">
    <text class="empty-icon">ğŸ“‹</text>
    <text class="empty-text">æš‚æ— æ‹›è˜å²—ä½</text>
    <text class="empty-hint">è¯·ç¨åå†æ¥æŸ¥çœ‹</text>
  </view>

  <view wx:else class="job-list">
    <view
      wx:for="{{jobs}}"
      wx:key="id"
      class="job-card"
      bindtap="goToDetail"
      data-id="{{item.id}}"
    >
      <view class="job-top">
        <text class="job-title">{{item.jobTitle || item.title || '-'}}</text>
        <text class="job-salary">{{item.salaryAmount || '-'}}å…ƒ/{{item.payType == 1 ? 'å¤©' : item.payType == 2 ? 'å°æ—¶' : 'ä»¶'}}</text>
      </view>

      <view wx:if="{{item.baseName}}" class="job-base">
        <text class="base-tag">{{item.baseName}}</text>
      </view>

      <view class="job-info">
        <text class="info-item">æ‹›è˜ {{item.headcount || item.count || '-'}} äºº</text>
        <text class="info-item">{{item.workDateRange || 'æ—¶é—´å¾…å®š'}}</text>
      </view>

      <view wx:if="{{item.requirements || item.description}}" class="job-desc">
        <text>{{item.requirements || item.description}}</text>
      </view>

      <view class="job-bottom">
        <text class="status {{item.status === 'recruiting' || item.status === 1 ? 'status-open' : 'status-closed'}}">
          {{item.status === 'recruiting' || item.status === 1 ? 'æ‹›è˜ä¸­' : 'å·²å…³é—­'}}
        </text>
        <view
          class="apply-btn"
          catchtap="applyJob"
          data-id="{{item.id}}"
          data-baseid="{{item.baseId}}"
        >
          ç«‹å³æŠ¥å
        </view>
      </view>
    </view>
  </view>
</view>
